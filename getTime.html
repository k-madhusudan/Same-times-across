<html>
<head>
<title> Time Zone Converter</title>
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

</head>
<body>
<div class="container">
<h1> Time Zone converter</h1>
<form role="form">
<div class="form-group">
 <div class="col-xs-2">
<label for="hr1">Hours</label>
<select class="form-control" id="hr1" >
<script type="text/javascript">
var d= new Date();
for( i=0;i<24;i++){
	
	if(i==d.getHours()){
		document.write("<option selected='true'>");
	}
	else{
		document.write("<option>");
	}
	document.write(i);
	document.write("</option>");
}
</script>
</select>
</div>

 <div class="col-xs-2">
<label for="min1">Minutes</label>
<select class="form-control" id="min1" >
<script type="text/javascript">
var d= new Date();
for( i=0;i<=59;i++){
	
	if(i==d.getMinutes()){
		document.write("<option selected='true'>");
	}
	else{
		document.write("<option>");
	}
	document.write(i);
	document.write("</option>");
}
</script>
</select>
</div>


<div class="form-group">
 <div class="col-xs-2">
<label for="date1">Date</label>
<select class="form-control" id="date1" >
<script type="text/javascript">
var d= new Date();
for( i=1;i<=31;i++){
	
	if(i==d.getDate()){
		document.write("<option selected='true'>");
	}
	else{
		document.write("<option>");
	}
	document.write(i);
	document.write("</option>");
}
</script>
</select>
</div>


<div class="form-group">
 <div class="col-xs-2">
<label for="mon1">Month</label>
<select class="form-control" id="mon1" >
<script type="text/javascript">
var d= new Date();
for( i=0;i<12;i++){
	
	if(i==d.getMonth()){
		document.write("<option selected='true'>");
	}
	else{
		document.write("<option>");
	}
	document.write(i+1);
	document.write("</option>");
}
</script>
</select>
</div>

<div class="form-group">
 <div class="col-xs-2">
<label for="yr1">Year</label>
<select class="form-control" id="yr1" >
<script type="text/javascript">
var d= new Date();
for( i=1900;i<=2199;i++){
	
	if(i==d.getFullYear()){
		document.write("<option selected='true'>");
	}
	else{
		document.write("<option>");
	}
	document.write(i);
	document.write("</option>");
}
</script>
</select>
</div>

</div>
 <!--<div class="col-xs-2">-->
<br/>
<button type="submit" onclick="calc(); return false;"  class="btn btn-success">Go.!</button>




<table class="table" id="tab1" style="display:none">
<tr>
	<th>Country</th>
	<th>Timezone</th>
	<th>Time</th>
</tr>
<script>
var cnty= ["in","gb","us","au"];
var tzone=["IST" ,"GMT","CST", "ACT" ];
	for(i=0;i<4;i++){
	document.write("<tr>");
	document.write("<td><img src='http://www.geonames.org/flags/x/"+cnty[i]+".gif' height='30px' width='30px'/></td>");

	document.write("<td>"+tzone[i]+"</td>");
	document.write("<td id='tval"+i+"' >"+i+"</td>");
	document.write("</tr>")
	}
</script>
</table>

</form>
<script>
function calc(){
	//alert("Hello");
	var yr=document.getElementById("yr1");
	var mon=document.getElementById("mon1");
	var dt=document.getElementById("date1");
	var hour=document.getElementById("hr1");
	var minute=document.getElementById("min1");

	var date1= new Date(yr.value,mon.value-1,dt.value,hour.value,minute.value);
	var date2= new Date(yr.value,mon.value-1,dt.value,hour.value,minute.value);
	var date3= new Date(yr.value,mon.value-1,dt.value,hour.value,minute.value);
	var date4= new Date(yr.value,mon.value-1,dt.value,hour.value,minute.value);
	//date1.setMinutes(date1.getMinutes()-330);
	
	date2.setMinutes(date2.getMinutes()-330);
	
	date3.setMinutes(date3.getMinutes()+270);
	date4.setMinutes(date4.getMinutes()-630);
	
	//Changed to innerHTML (Silly me!)
	document.getElementById("tval0").innerHTML= date1.toLocaleDateString()+" "+date1.toLocaleTimeString();
	document.getElementById("tval1").innerHTML= date2.toLocaleDateString()+" "+date2.toLocaleTimeString();	
	document.getElementById("tval3").innerHTML= date3.toLocaleDateString()+" "+date3.toLocaleTimeString();
	document.getElementById("tval2").innerHTML= date3.toLocaleDateString()+" "+date4.toLocaleTimeString();
	document.getElementById("tab1").style.display="table";
	
	//Adding return statement at call as the page was getting refreshed another time 
	
}
</script>
</body>
</html>
